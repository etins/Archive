---
title: Reading notes-core python programming-chapter three
categories: tech
tags: python
---

## 第3章 Python基础 ##

### 3.1 语句和语法 ###

Python语句中一些基本规则和特殊字符：

- 井号标识之后的字符为Python注释
- 换行(\n)是标准的分隔符
- 反斜线继续上一行
- 分号将两个语句连接在一行中
- 冒号将代码块的头和体分开
- 语句用缩进块的方式体现
- 不同的缩进深度分隔不同的代码块
- Python文件以模块的形式组织

### 3.2 变量赋值 ###

#### 多元赋值 ###

    >>> (x, y, z) = (1, 2, 'a string')
   	# 交换变量
	>>> x, y = 1, 2
	>>> x, y = y, x
	>>> x
	2
	>>> y
	1

### 3.3 标识符 ###

> pass

### 3.4 基本风格指南 ###

> pass

### 3.5 内存管理 ###

#### 3.5.4 引用计数 ####

要保持追踪内存中的对象，Python使用了引用计数这一简单技术。每个对象有多少引用，简称引用计数。当对象被创建时，就创建了一个引用计数， 当这个对象的引用计数变为0时，它就被垃圾回收。

##### 1. 增加引用计数 #####

    x = 3.14
    y = x

语句x=3.14创建了一个浮点类型对象并将其引用赋值给x。 x是第一个引用，因此该对象的引用计数设置为1. 语句y=x创建了一个指向同意对象的别名y，这个过程没有创建新对象，而是将浮点数对象的引用计数增加了一次（变为2）.

当对象作为参数或者被加入到某个容器对象中时，引用计数会增加。

##### 2. 减少引用计数 #####

	# 对象'xyz'的引用计数为1
    foo = 'xya'
	# 对象'xyz'的引用计数增加1
	bar = foo
	# 对象'xyz'的引用计数减少1
	foo = 123

#### 3.5.5垃圾回收 ####

垃圾收集器是一块独立代码，它用来寻找引用计数为0的对象。它也负责检查那些虽然引用计数大于0但也应该被销毁的对象。特定情形会导致循环引用。

一个循环引用发生在当你有至少两个对象互相引用时，也就是说所有的引用都消失时，这些引用仍然存在，这说明只靠引用计数是不够的。Python的垃圾收集器实际上是一个引用计数器和一个循环垃圾收集器。当一个对象的引用计数变为0,解释器会暂停，释放掉这个对象和仅有这个对象可访问 （可到达）的其他对象。作为引用计数的补充，垃圾收集器也会留心被分配的总量很大的（及未通过引用计数销毁的那些）对象。在这种情况下，解释器会暂停下来，试图清理所有未引用的循环。

---EOF---
